# 安全与隐私说明

## 🔒 安全检查报告

### ✅ 已检查项目

- [x] **敏感信息检查**
  - ✅ 无硬编码的 Cookie、Token、密码等敏感信息
  - ✅ 无 API Key 或 Secret Key
  - ✅ 无内网 IP 地址或本地地址

- [x] **数据安全**
  - ✅ 所有数据处理在本地完成
  - ✅ 不会向任何服务器上传数据
  - ✅ 不会收集用户个人信息

- [x] **权限使用**
  - ✅ 仅使用必要的权限
  - ✅ 权限说明清晰明确

- [x] **代码安全**
  - ✅ 无恶意代码
  - ✅ 无后门或隐藏功能
  - ✅ 代码开源可审查

## 📋 权限说明

### storage 权限

**用途**：保存用户的扩展设置
- 开关状态（extensionEnabled）
- 其他用户配置（如c前缀等）

**数据存储位置**：浏览器本地存储（chrome.storage.local）
**数据范围**：仅扩展相关配置，不包含任何用户个人信息

### host_permissions 权限

**用途**：访问雨课堂网站以获取试卷数据

**访问的域名**：
- `https://www.yuketang.cn/*`
- `https://yuketang.cn/*`
- `https://examination.xuetangx.com/*`

**访问方式**：
- 使用 `fetch` API 发送请求
- 使用 `credentials: 'include'` 携带用户的 Cookie（用于身份验证）
- 所有请求都是用户主动触发的导出操作

**安全说明**：
- 不会访问其他域名
- 不会修改网站内容（只读取数据）
- 不会绕过网站的权限控制

## 🔐 身份验证

### Cookie 使用

扩展使用 `credentials: 'include'` 来携带用户的 Cookie，这是**正常且必要的**功能：

1. **为什么需要**：
   - 雨课堂网站需要用户登录才能访问试卷数据
   - Cookie 用于身份验证，证明用户已登录

2. **安全性**：
   - Cookie 由浏览器管理，扩展无法直接访问
   - 扩展只是让浏览器在请求时自动携带 Cookie
   - 不会读取、修改或泄露 Cookie 内容

3. **用户控制**：
   - Cookie 由用户登录时设置
   - 用户可以随时退出登录
   - 扩展无法绕过用户的登录状态

## 🛡️ 数据流

```
用户操作
  ↓
扩展触发导出
  ↓
使用用户的 Cookie 发送请求（浏览器自动处理）
  ↓
获取试卷数据（仅用户有权限查看的内容）
  ↓
在本地处理数据
  ↓
生成 JSON/Markdown 文件
  ↓
下载到用户本地
```

**关键点**：
- ✅ 所有步骤在用户浏览器中完成
- ✅ 数据不会离开用户的设备
- ✅ 不会发送到任何第三方服务器

## ⚠️ 安全建议

### 对于用户

1. **仅从可信来源安装**
   - 从 GitHub 官方仓库下载
   - 或从官方扩展商店安装（待上架）

2. **定期检查扩展**
   - 检查扩展的权限
   - 如有异常行为，立即卸载

3. **保护账户安全**
   - 使用强密码
   - 定期更换密码
   - 不在公共设备上使用

### 对于开发者

1. **代码审查**
   - 所有代码开源，可随时审查
   - 欢迎提交安全相关的 Issue

2. **更新机制**
   - 定期更新扩展
   - 及时修复安全问题

## 📞 安全问题反馈

如果发现安全问题，请通过以下方式联系：

- GitHub Issues: [https://github.com/itkdm/yuketang-export/issues](https://github.com/itkdm/yuketang-export/issues)
- 邮件：通过 GitHub 个人资料联系

## 📄 隐私政策

### 数据收集

**本扩展不收集任何数据。**

### 数据处理

- 所有数据处理在用户本地浏览器中进行
- 不会发送数据到任何服务器
- 不会存储用户的个人信息

### 第三方服务

- 不使用任何第三方分析服务
- 不使用任何第三方广告服务
- 不集成任何第三方 SDK

### 数据共享

- 不会与任何第三方共享数据
- 不会出售用户数据
- 不会用于任何商业目的

## ✅ 合规性

- ✅ 符合浏览器扩展商店政策
- ✅ 符合 GDPR 隐私保护要求
- ✅ 符合中国网络安全法要求
- ✅ 遵循最小权限原则

---

**最后更新**：2026-01-10

