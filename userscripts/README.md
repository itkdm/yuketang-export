# 用户脚本版本

本文件夹包含两个独立的用户脚本（UserScript），是浏览器扩展的前身版本。

## 📝 脚本说明

### 001.md - 小窗试卷版

**功能**：导出雨课堂小窗试卷（iframe试卷）

**适用场景**：
- `www.yuketang.cn/v2/web/*`
- `www.yuketang.cn/v/quiz/*`

**特点**：
- 支持 MultipleChoice（选择题）和 FillBlank（填空题）
- 保留图片URL，不做OCR
- 导出格式：JSON、Markdown
- 使用标准 Web API，无需特殊权限

**安装**：
1. 安装 Tampermonkey 或 Violentmonkey 扩展
2. 创建新脚本
3. 复制 `001.md` 的内容到脚本编辑器
4. 保存并启用

### 002.md - 无图试卷版

**功能**：导出雨课堂无图试卷（正常试卷）

**适用场景**：
- `examination.xuetangx.com/*`
- `www.yuketang.cn/*`（部分页面）

**特点**：
- 导出题目、选项、答案
- 仅导出你有权限查看的内容（复习模式）
- 导出格式：JSON、Markdown
- 需要 GM_xmlhttpRequest 权限（跨域请求）

**安装**：
1. 安装 Tampermonkey 或 Violentmonkey 扩展
2. 创建新脚本
3. 复制 `002.md` 的内容到脚本编辑器
4. 保存并启用

## 🔄 与浏览器扩展的关系

这两个用户脚本是浏览器扩展（`../extension/`）的前身版本：

- **用户脚本版本**：需要安装 Tampermonkey 等脚本管理器
- **浏览器扩展版本**：独立安装，功能更完善，UI更统一

### 功能对比

| 功能 | 用户脚本 | 浏览器扩展 |
|------|---------|-----------|
| 小窗试卷导出 | ✅ | ✅ |
| 无图试卷导出 | ✅ | ✅ |
| 模式切换 | ❌ | ✅ |
| 开关控制 | ❌ | ✅ |
| 统一UI | ❌ | ✅ |
| 安装方式 | 需要脚本管理器 | 直接安装 |

## 📦 使用建议

- **推荐使用浏览器扩展版本**（`../extension/`）
  - 功能更完善
  - UI更统一
  - 安装更简单
  - 体验更好

- **用户脚本版本适用于**：
  - 不想安装浏览器扩展的用户
  - 需要单独使用某个功能的用户
  - 想要自定义修改的用户

## 🔧 技术说明

### 001.md（小窗试卷版）
- 使用标准 Web API
- 无需特殊权限（`@grant none`）
- 完全在页面上下文中运行

### 002.md（无图试卷版）
- 使用 Tampermonkey API
- 需要跨域请求权限
- 使用存储 API 保存配置

## 📄 文件说明

- `001.md` - 小窗试卷导出脚本
- `002.md` - 无图试卷导出脚本
- `README.md` - 本说明文档

## ⚠️ 注意事项

1. **文件格式**：脚本文件使用 `.md` 扩展名，但内容是 JavaScript 代码
2. **安装方式**：需要复制内容到脚本管理器，不是直接运行 `.md` 文件
3. **版本更新**：用户脚本版本可能不会持续更新，建议使用浏览器扩展版本

## 🔗 相关链接

- [浏览器扩展版本](../extension/README.md)
- [项目主页](https://github.com/itkdm/yuketang-export)

